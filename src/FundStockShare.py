from Config import *
import requests
import json
from DataControl import dataControl
import execjs
from lxml import etree
from io import StringIO, BytesIO
from urllib.parse import unquote, quote
from Logger import logger
import time

header_str = '''Host:fundf10.eastmoney.com
Proxy-Connection:keep-alive
User-Agent:Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.114 Safari/537.36 Edg/89.0.774.68
Accept:*/*
Referer:http://fundf10.eastmoney.com/ccmx_000001.html
Accept-Encoding:gzip, deflate
Accept-Language:zh-CN,zh;q=0.9,en;q=0.8,en-US;q=0.7'''


params_str = '''type=jjcc
code=000001
topline=0
year=0
month=0
rt=0.9368076344308409'''

class FundStockShare:

    url = 'http://fundf10.eastmoney.com/FundArchivesDatas.aspx'

    def __init__(self):
        self.params = self.format_params(params_str)

    def format_header(self, header_str=header_str):
        header = dict()
        for line in header_str.split('\n'):
            header[line.split(':')[0]] = ":".join(line.split(':')[1:])
        return header
    
    def format_params(self, params_str=params_str):
        params = dict()
        for line in params_str.split('\n'):
            params[line.split('=')[0]] = line.split('=')[1]
        return params
    
    def getJSVariable(self, JS_code, variable_name='apidata'):
        cxt = execjs.compile(JS_code)
        return cxt.eval(variable_name)

    
    def getFundStockYears(self, fund_code='000001'):
        params = self.format_params()
        headers = self.format_header()
        response = requests.get(self.url, params=params, headers=headers)
        curr_dict = self.getJSVariable(unquote(response.text))
        return curr_dict['arryear']

    def getFundStockHtmlContent(self, JS_code):
        curr_dict = self.getJSVariable(JS_code)
        return curr_dict['content']
    

    def parseSingleNode(self, curr_tree, fund_code, year, month):
        stock_code = ''
        stock_name = ''
        fund_share_portion = ''
        fund_share_numbers = ''
        fund_share_value = ''
        if len(curr_tree.xpath("//td[2]/a")) > 0:
            stock_code = curr_tree.xpath("//td[2]/a")[0].text
        if len(curr_tree.xpath("//td[2]/span")) > 0:
            stock_code = curr_tree.xpath("//td[2]/span")[0].text
        if len(curr_tree.xpath("//td[3]/a")) > 0:
            stock_name = curr_tree.xpath("//td[3]/a")[0].text
        if len(curr_tree.xpath("//td[3]/span")) > 0:
            stock_name = curr_tree.xpath("//td[3]/span")[0].text
        if len(curr_tree.xpath("//td[5]")) > 0:
            fund_share_portion = curr_tree.xpath("//td[5]")[0].text
        if len(curr_tree.xpath("//td[6]")) > 0:
            fund_share_numbers = curr_tree.xpath("//td[6]")[0].text
        if len(curr_tree.xpath("//td[7]")) > 0:
            fund_share_value = curr_tree.xpath("//td[7]")[0].text
        curr_fund_dict = dict()
        curr_fund_dict['_id'] = fund_code + str(year) + str(month) + stock_code
        curr_fund_dict['fund_code'] = fund_code
        curr_fund_dict['year'] = year
        curr_fund_dict['month'] = month
        curr_fund_dict['stock_code'] = stock_code
        curr_fund_dict['stock_name'] = stock_name
        curr_fund_dict['fund_share_portion'] = fund_share_portion
        curr_fund_dict['fund_share_numbers'] = fund_share_numbers
        curr_fund_dict['fund_share_value'] = fund_share_value
        return curr_fund_dict
    


    def parseHtml2Json(self, response_text, fund_code, year, month):
        final_datas = list()
        html_content = ""
        try:
            html_content = self.getFundStockHtmlContent(response_text)
            if len(html_content) <= 0:
                return final_datas
            # print("html_content; ", html_content)
            parser = etree.HTMLParser(encoding="utf-8")
            tree = etree.parse(StringIO(html_content), parser=parser)
            if tree is None:
                return final_datas
            for curr_node in tree.xpath('//div/div/table/tbody/tr'):
                curr_html = etree.tostring(curr_node)
                curr_tree = etree.parse(StringIO(str(curr_html)), parser=parser)
                # 格式化当前基金持仓信息
                curr_fund_dict = self.parseSingleNode(curr_tree, fund_code, year, month)
                final_datas.append(curr_fund_dict)
        except Exception as e:
                logger.error("html_content = %s, error = %s" %(html_content, e))
        return final_datas

    def crawlFundStockShareList(self, fund_code="000001"):
        headers = self.format_header()
        self.params['code'] = fund_code
        
        for year in self.getFundStockYears():
            for season in [1, 2, 3, 4]:
                self.params['year'] = year
                self.params['month'] = season * 3
                i = 1
                while i <= int(config["SERVER"]["MAX_TRY"]):
                    try:
                        response = requests.get(self.url, params=self.params, headers=headers)
                        datas = self.parseHtml2Json(response.text, fund_code, year, season * 3)
                        break
                    except Exception as e:
                        i = i + 1
                        logger.error(f"request url = {self.url} failed, retry.")
                        time.sleep(5)
                dataControl.insertFundStockShareInfos(datas)

if __name__ == "__main__":
    #FundStockShare().crawlFundStockShareList()
    final_datas = list()
    html_content = ""
    html_content = """<div class='box'><div class='boxitem w790'><h4 class='t'><label class='left'><a href='http://fund.eastmoney.com/000369.html'>广发全球医疗保健(QDII)</a>&nbsp;&nbsp;2014年4季度股票投资明细</label><label class='right lab2 xq505'>&nbsp;&nbsp;&nbsp;&nbsp;来源：天天基金&nbsp;&nbsp;&nbsp;&nbsp;截止至：<font class='px12'>2014-12-31</font></label></h4><div class='space0'></div><table class='w782 comm tzxq t2'><thead><tr><th class='first'style='width:34px'>序号</th><th>股票代码</th><th>股票名称</th><th style='width: 110px;'>相关资讯</th><th>占净值比例</th><th class='cgs'>持股数<br />（万股）</th><th class='last ccs'>持仓市值<br />（万元人民币）</th></tr></thead><tbody><tr><td>1</td><td class='toc'><a href='//quote.eastmoney.com/us/JNJ.html' >JNJ.US</a></td><td class='toc' style='line-height:18px'><a href='//quote.eastmoney.com/us/JNJ.html'>强生</a></td><td class='xglj'><a href='//fund.eastmoney.com/ba/list,usJNJ.html' >股吧</a><a href='//quote.eastmoney.com/us/JNJ.html' >行情</a><a href='//emweb.eastmoney.com/pc_usf10/CoreReading/index?color=web&code=JNJ' style='display:none'>档案</a></td><td class='toc'>7.00%</td><td class='toc'>2.62</td><td class='toc'>1,677.21</td></tr><tr><td>2</td><td class='toc'><a href='//quote.eastmoney.com/us/GILD.html' >GILD.US</a></td><td class='toc' style='line-height:18px'><a href='//quote.eastmoney.com/us/GILD.html'>吉利德科学</a></td><td class='xglj'><a href='//fund.eastmoney.com/ba/list,usGILD.html' >股吧</a><a href='//quote.eastmoney.com/us/GILD.html' >行情</a><a href='//emweb.eastmoney.com/pc_usf10/CoreReading/index?color=web&code=GILD' style='display:none'>档案</a></td><td class='toc'>5.98%</td><td class='toc'>2.52</td><td class='toc'>1,431.55</td></tr><tr><td>3</td><td class='toc'><a href='//quote.eastmoney.com/us/PFE.html' >PFE.US</a></td><td class='toc' style='line-height:18px'><a href='//quote.eastmoney.com/us/PFE.html'>辉瑞</a></td><td class='xglj'><a href='//fund.eastmoney.com/ba/list,usPFE.html' >股吧</a><a href='//quote.eastmoney.com/us/PFE.html' >行情</a><a href='//emweb.eastmoney.com/pc_usf10/CoreReading/index?color=web&code=PFE' style='display:none'>档案</a></td><td class='toc'>4.68%</td><td class='toc'>5.89</td><td class='toc'>1,121.85</td></tr><tr><td>4</td><td class='toc'><span data-texch=''>ROGVX</span></td><td class='toc' style='line-height:18px'><span>罗氏</span></td><td class='xglj'><span >股吧</span><span>行情</span><span >档案</span></td><td class='toc'>4.53%</td><td class='toc'>0.65</td><td class='toc'>1,085.72</td></tr><tr><td>5</td><td class='toc'><a href='//quote.eastmoney.com/us/MRK.html' >MRK.US</a></td><td class='toc' style='line-height:18px'><a href='//quote.eastmoney.com/us/MRK.html'>默克</a></td><td class='xglj'><a href='//fund.eastmoney.com/ba/list,usMRK.html' >股吧</a><a href='//quote.eastmoney.com/us/MRK.html' >行情</a><a href='//emweb.eastmoney.com/pc_usf10/CoreReading/index?color=web&code=MRK' style='display:none'>档案</a></td><td class='toc'>3.89%</td><td class='toc'>2.68</td><td class='toc'>931.33</td></tr><tr><td>6</td><td class='toc'><a href='//quote.eastmoney.com/us/GILD.html' >GILD.US</a></td><td class='toc' style='line-height:18px'><a href='//quote.eastmoney.com/us/GILD.html'>吉利德科学</a></td><td class='xglj'><a href='//fund.eastmoney.com/ba/list,usGILD.html' >股吧</a><a href='//quote.eastmoney.com/us/GILD.html' >行情</a><a href='//emweb.eastmoney.com/pc_usf10/CoreReading/index?color=web&code=GILD' style='display:none'>档案</a></td><td class='toc'>3.38%</td><td class='toc'>1.40</td><td class='toc'>810.20</td></tr><tr><td>7</td><td class='toc'><a href='//quote.eastmoney.com/us/AMGN.html' >AMGN.US</a></td><td class='toc' style='line-height:18px'><a href='//quote.eastmoney.com/us/AMGN.html'>安进</a></td><td class='xglj'><a href='//fund.eastmoney.com/ba/list,usAMGN.html' >股吧</a><a href='//quote.eastmoney.com/us/AMGN.html' >行情</a><a href='//emweb.eastmoney.com/pc_usf10/CoreReading/index?color=web&code=AMGN' style='display:none'>档案</a></td><td class='toc'>2.87%</td><td class='toc'>0.70</td><td class='toc'>686.97</td></tr><tr><td>8</td><td class='toc'><span data-texch=''>BAYNGR</span></td><td class='toc' style='line-height:18px'><span>拜耳股份有限公司</span></td><td class='xglj'><span >股吧</span><span>行情</span><span >档案</span></td><td class='toc'>2.72%</td><td class='toc'>0.77</td><td class='toc'>650.82</td></tr><tr><td>9</td><td class='toc'><span data-texch=''>SANFP</span></td><td class='toc' style='line-height:18px'><span>赛诺菲安万特公司</span></td><td class='xglj'><span >股吧</span><span>行情</span><span >档案</span></td><td class='toc'>2.64%</td><td class='toc'>1.12</td><td class='toc'>631.84</td></tr><tr><td>10</td><td class='toc'><span data-texch=''>GSKLN</span></td><td class='toc' style='line-height:18px'><span>葛兰素史克公司</span></td><td class='xglj'><span >股吧</span><span>行情</span><span >档案</span></td><td class='toc'>2.49%</td><td class='toc'>4.55</td><td class='toc'>597.66</td></tr><tr><td>11</td><td class='toc'><a href='//quote.eastmoney.com/us/ABBV.html' >ABBV.US</a></td><td class='toc' style='line-height:18px'><a href='//quote.eastmoney.com/us/ABBV.html'>艾伯维</a></td><td class='xglj'><a href='//fund.eastmoney.com/ba/list,usABBV.html' >股吧</a><a href='//quote.eastmoney.com/us/ABBV.html' >行情</a><a href='//emweb.eastmoney.com/pc_usf10/CoreReading/index?color=web&code=ABBV' style='display:none'>档案</a></td><td class='toc'>2.47%</td><td class='toc'>1.48</td><td class='toc'>591.39</td></tr><tr><td>12</td><td class='toc'><a href='//quote.eastmoney.com/us/UNH.html' >UNH.US</a></td><td class='toc' style='line-height:18px'><a href='//quote.eastmoney.com/us/UNH.html'>联合健康</a></td><td class='xglj'><a href='//fund.eastmoney.com/ba/list,usUNH.html' >股吧</a><a href='//quote.eastmoney.com/us/UNH.html' >行情</a><a href='//emweb.eastmoney.com/pc_usf10/CoreReading/index?color=web&code=UNH' style='display:none'>档案</a></td><td class='toc'>2.33%</td><td class='toc'>0.90</td><td class='toc'>557.58</td></tr><tr><td>13</td><td class='toc'><a href='//quote.eastmoney.com/us/BMY.html' >BMY.US</a></td><td class='toc' style='line-height:18px'><a href='//quote.eastmoney.com/us/BMY.html'>百时美施贵宝</a></td><td class='xglj'><a href='//fund.eastmoney.com/ba/list,usBMY.html' >股吧</a><a href='//quote.eastmoney.com/us/BMY.html' >行情</a><a href='//emweb.eastmoney.com/pc_usf10/CoreReading/index?color=web&code=BMY' style='display:none'>档案</a></td><td class='toc'>2.32%</td><td class='toc'>1.54</td><td class='toc'>556.04</td></tr><tr><td>14</td><td class='toc'><span data-texch=''>CELG</span></td><td class='toc' style='line-height:18px'><span>新基</span></td><td class='xglj'><span >股吧</span><span>行情</span><span >档案</span></td><td class='toc'>2.12%</td><td class='toc'>0.74</td><td class='toc'>508.01</td></tr><tr><td>15</td><td class='toc'><span data-texch=''>AZN</span></td><td class='toc' style='line-height:18px'><span>阿斯利康(UK)</span></td><td class='xglj'><span >股吧</span><span>行情</span><span >档案</span></td><td class='toc'>2.11%</td><td class='toc'>1.16</td><td class='toc'>505.89</td></tr><tr><td>16</td><td class='toc'><span data-texch=''>NOVOBDC</span></td><td class='toc' style='line-height:18px'><span>诺和诺德公司</span></td><td class='xglj'><span >股吧</span><span>行情</span><span >档案</span></td><td class='toc'>1.97%</td><td class='toc'>1.82</td><td class='toc'>471.28</td></tr><tr><td>17</td><td class='toc'><a href='//quote.eastmoney.com/us/BIIB.html' >BIIB.US</a></td><td class='toc' style='line-height:18px'><a href='//quote.eastmoney.com/us/BIIB.html'>生化基因</a></td><td class='xglj'><a href='//fund.eastmoney.com/ba/list,usBIIB.html' >股吧</a><a href='//quote.eastmoney.com/us/BIIB.html' >行情</a><a href='//emweb.eastmoney.com/pc_usf10/CoreReading/index?color=web&code=BIIB' style='display:none'>档案</a></td><td class='toc'>1.90%</td><td class='toc'>0.22</td><td class='toc'>456.34</td></tr><tr><td>18</td><td class='toc'><a href='//quote.eastmoney.com/us/MDT.html' >MDT.US</a></td><td class='toc' style='line-height:18px'><a href='//quote.eastmoney.com/us/MDT.html'>美敦力</a></td><td class='xglj'><a href='//fund.eastmoney.com/ba/list,usMDT.html' >股吧</a><a href='//quote.eastmoney.com/us/MDT.html' >行情</a><a href='//emweb.eastmoney.com/pc_usf10/CoreReading/index?color=web&code=MDT' style='display:none'>档案</a></td><td class='toc'>1.65%</td><td class='toc'>0.90</td><td class='toc'>395.49</td></tr><tr><td>19</td><td class='toc'><span data-texch=''>ACT</span></td><td class='toc' style='line-height:18px'><span>ACTUAL EXPERIENCE PLC ORD 0.2P</span></td><td class='xglj'><span >股吧</span><span>行情</span><span >档案</span></td><td class='toc'>1.62%</td><td class='toc'>0.25</td><td class='toc'>387.32</td></tr><tr><td>20</td><td class='toc'><a href='//quote.eastmoney.com/us/ABT.html' >ABT.US</a></td><td class='toc' style='line-height:18px'><a href='//quote.eastmoney.com/us/ABT.html'>雅培</a></td><td class='xglj'><a href='//fund.eastmoney.com/ba/list,usABT.html' >股吧</a><a href='//quote.eastmoney.com/us/ABT.html' >行情</a><a href='//emweb.eastmoney.com/pc_usf10/CoreReading/index?color=web&code=ABT' style='display:none'>档案</a></td><td class='toc'>1.61%</td><td class='toc'>1.40</td><td class='toc'>385.70</td></tr><tr><td>21</td><td class='toc'><a href='//quote.eastmoney.com/us/LLY.html' >LLY.US</a></td><td class='toc' style='line-height:18px'><a href='//quote.eastmoney.com/us/LLY.html'>礼来</a></td><td class='xglj'><a href='//fund.eastmoney.com/ba/list,usLLY.html' >股吧</a><a href='//quote.eastmoney.com/us/LLY.html' >行情</a><a href='//emweb.eastmoney.com/pc_usf10/CoreReading/index?color=web&code=LLY' style='display:none'>档案</a></td><td class='toc'>1.59%</td><td class='toc'>0.90</td><td class='toc'>379.98</td></tr><tr><td>22</td><td class='toc'><span data-texch=''>AGN</span></td><td class='toc' style='line-height:18px'><span>爱力根</span></td><td class='xglj'><span >股吧</span><span>行情</span><span >档案</span></td><td class='toc'>1.50%</td><td class='toc'>0.28</td><td class='toc'>360.20</td></tr><tr><td>23</td><td class='toc'><span data-texch=''>ESRX</span></td><td class='toc' style='line-height:18px'><span>快捷药方</span></td><td class='xglj'><span >股吧</span><span>行情</span><span >档案</span></td><td class='toc'>1.50%</td><td class='toc'>0.69</td><td class='toc'>358.47</td></tr><tr><td>24</td><td class='toc'><a href='//quote.eastmoney.com/us/TMO.html' >TMO.US</a></td><td class='toc' style='line-height:18px'><a href='//quote.eastmoney.com/us/TMO.html'>赛默飞世尔科技</a></td><td class='xglj'><a href='//fund.eastmoney.com/ba/list,usTMO.html' >股吧</a><a href='//quote.eastmoney.com/us/TMO.html' >行情</a><a href='//emweb.eastmoney.com/pc_usf10/CoreReading/index?color=web&code=TMO' style='display:none'>档案</a></td><td class='toc'>1.18%</td><td class='toc'>0.37</td><td class='toc'>282.66</td></tr><tr><td>25</td><td class='toc'><a href='//quote.eastmoney.com/us/MCK.html' >MCK.US</a></td><td class='toc' style='line-height:18px'><a href='//quote.eastmoney.com/us/MCK.html'>麦克森</a></td><td class='xglj'><a href='//fund.eastmoney.com/ba/list,usMCK.html' >股吧</a><a href='//quote.eastmoney.com/us/MCK.html' >行情</a><a href='//emweb.eastmoney.com/pc_usf10/CoreReading/index?color=web&code=MCK' style='display:none'>档案</a></td><td class='toc'>1.13%</td><td class='toc'>0.21</td><td class='toc'>269.53</td></tr><tr><td>26</td><td class='toc'><span data-texch=''>COV</span></td><td class='toc' style='line-height:18px'><span>柯惠公共有限公司</span></td><td class='xglj'><span >股吧</span><span>行情</span><span >档案</span></td><td class='toc'>1.10%</td><td class='toc'>0.42</td><td class='toc'>262.67</td></tr><tr><td>27</td><td class='toc'><span data-texch=''>VRXCN</span></td><td class='toc' style='line-height:18px'><span>Valeant制药国际有限公司</span></td><td class='xglj'><span >股吧</span><span>行情</span><span >档案</span></td><td class='toc'>1.05%</td><td class='toc'>0.29</td><td class='toc'>251.28</td></tr><tr><td>28</td><td class='toc'><span data-texch=''>SHPLN</span></td><td class='toc' style='line-height:18px'><span>Shire公司</span></td><td class='xglj'><span >股吧</span><span>行情</span><span >档案</span></td><td class='toc'>0.99%</td><td class='toc'>0.55</td><td class='toc'>237.68</td></tr><tr><td>29</td><td class='toc'><a href='//quote.eastmoney.com/us/BAX.html' >BAX.US</a></td><td class='toc' style='line-height:18px'><a href='//quote.eastmoney.com/us/BAX.html'>百特国际</a></td><td class='xglj'><a href='//fund.eastmoney.com/ba/list,usBAX.html' >股吧</a><a href='//quote.eastmoney.com/us/BAX.html' >行情</a><a href='//emweb.eastmoney.com/pc_usf10/CoreReading/index?color=web&code=BAX' style='display:none'>档案</a></td><td class='toc'>0.94%</td><td class='toc'>0.50</td><td class='toc'>224.77</td></tr><tr><td>30</td><td class='toc'><a href='//quote.eastmoney.com/us/ALXN.html' >ALXN.US</a></td><td class='toc' style='line-height:18px'><a href='//quote.eastmoney.com/us/ALXN.html'>亚力兄制药</a></td><td class='xglj'><a href='//fund.eastmoney.com/ba/list,usALXN.html' >股吧</a><a href='//quote.eastmoney.com/us/ALXN.html' >行情</a><a href='//emweb.eastmoney.com/pc_usf10/CoreReading/index?color=web&code=ALXN' style='display:none'>档案</a></td><td class='toc'>0.87%</td><td class='toc'>0.18</td><td class='toc'>208.66</td></tr><tr><td>31</td><td class='toc'><a href='//quote.eastmoney.com/us/ANTM.html' >ANTM.US</a></td><td class='toc' style='line-height:18px'><a href='//quote.eastmoney.com/us/ANTM.html'>Anthem Inc</a></td><td class='xglj'><a href='//fund.eastmoney.com/ba/list,usANTM.html' >股吧</a><a href='//quote.eastmoney.com/us/ANTM.html' >行情</a><a href='//emweb.eastmoney.com/pc_usf10/CoreReading/index?color=web&code=ANTM' style='display:none'>档案</a></td><td class='toc'>0.81%</td><td class='toc'>0.25</td><td class='toc'>194.94</td></tr><tr><td>32</td><td class='toc'><span data-texch=''>CSLAU</span></td><td class='toc' style='line-height:18px'><span>CSL 有限公司</span></td><td class='xglj'><span >股吧</span><span>行情</span><span >档案</span></td><td class='toc'>0.80%</td><td class='toc'>0.44</td><td class='toc'>191.88</td></tr><tr><td>33</td><td class='toc'><span data-texch=''>4503JP</span></td><td class='toc' style='line-height:18px'><span>安斯泰来制药</span></td><td class='xglj'><span >股吧</span><span>行情</span><span >档案</span></td><td class='toc'>0.77%</td><td class='toc'>2.12</td><td class='toc'>183.67</td></tr><tr><td>34</td><td class='toc'><span data-texch=''>AET</span></td><td class='toc' style='line-height:18px'><span>安泰保险</span></td><td class='xglj'><span >股吧</span><span>行情</span><span >档案</span></td><td class='toc'>0.75%</td><td class='toc'>0.33</td><td class='toc'>179.53</td></tr><tr><td>35</td><td class='toc'><a href='//quote.eastmoney.com/us/REGN.html' >REGN.US</a></td><td class='toc' style='line-height:18px'><a href='//quote.eastmoney.com/us/REGN.html'>再生元制药</a></td><td class='xglj'><a href='//fund.eastmoney.com/ba/list,usREGN.html' >股吧</a><a href='//quote.eastmoney.com/us/REGN.html' >行情</a><a href='//emweb.eastmoney.com/pc_usf10/CoreReading/index?color=web&code=REGN' style='display:none'>档案</a></td><td class='toc'>0.71%</td><td class='toc'>0.07</td><td class='toc'>170.20</td></tr><tr><td>36</td><td class='toc'><span data-texch=''>4502JP</span></td><td class='toc' style='line-height:18px'><span>武田药品工业</span></td><td class='xglj'><span >股吧</span><span>行情</span><span >档案</span></td><td class='toc'>0.71%</td><td class='toc'>0.66</td><td class='toc'>169.41</td></tr><tr><td>37</td><td class='toc'><a href='//quote.eastmoney.com/us/SYK.html' >SYK.US</a></td><td class='toc' style='line-height:18px'><a href='//quote.eastmoney.com/us/SYK.html'>史赛克</a></td><td class='xglj'><a href='//fund.eastmoney.com/ba/list,usSYK.html' >股吧</a><a href='//quote.eastmoney.com/us/SYK.html' >行情</a><a href='//emweb.eastmoney.com/pc_usf10/CoreReading/index?color=web&code=SYK' style='display:none'>档案</a></td><td class='toc'>0.67%</td><td class='toc'>0.28</td><td class='toc'>161.21</td></tr><tr><td>38</td><td class='toc'><a href='//quote.eastmoney.com/us/VRTX.html' >VRTX.US</a></td><td class='toc' style='line-height:18px'><a href='//quote.eastmoney.com/us/VRTX.html'>福泰制药</a></td><td class='xglj'><a href='//fund.eastmoney.com/ba/list,usVRTX.html' >股吧</a><a href='//quote.eastmoney.com/us/VRTX.html' >行情</a><a href='//emweb.eastmoney.com/pc_usf10/CoreReading/index?color=web&code=VRTX' style='display:none'>档案</a></td><td class='toc'>0.67%</td><td class='toc'>0.22</td><td class='toc'>160.65</td></tr><tr><td>39</td><td class='toc'><a href='//quote.eastmoney.com/us/CAH.html' >CAH.US</a></td><td class='toc' style='line-height:18px'><a href='//quote.eastmoney.com/us/CAH.html'>卡地纳健康</a></td><td class='xglj'><a href='//fund.eastmoney.com/ba/list,usCAH.html' >股吧</a><a href='//quote.eastmoney.com/us/CAH.html' >行情</a><a href='//emweb.eastmoney.com/pc_usf10/CoreReading/index?color=web&code=CAH' style='display:none'>档案</a></td><td class='toc'>0.65%</td><td class='toc'>0.31</td><td class='toc'>154.57</td></tr><tr><td>40</td><td class='toc'><a href='//quote.eastmoney.com/us/CI.html' >CI.US</a></td><td class='toc' style='line-height:18px'><a href='//quote.eastmoney.com/us/CI.html'>信诺</a></td><td class='xglj'><a href='//fund.eastmoney.com/ba/list,usCI.html' >股吧</a><a href='//quote.eastmoney.com/us/CI.html' >行情</a><a href='//emweb.eastmoney.com/pc_usf10/CoreReading/index?color=web&code=CI' style='display:none'>档案</a></td><td class='toc'>0.64%</td><td class='toc'>0.24</td><td class='toc'>153.90</td></tr><tr><td>41</td><td class='toc'><a href='//quote.eastmoney.com/us/BDX.html' >BDX.US</a></td><td class='toc' style='line-height:18px'><a href='//quote.eastmoney.com/us/BDX.html'>碧迪</a></td><td class='xglj'><a href='//fund.eastmoney.com/ba/list,usBDX.html' >股吧</a><a href='//quote.eastmoney.com/us/BDX.html' >行情</a><a href='//emweb.eastmoney.com/pc_usf10/CoreReading/index?color=web&code=BDX' style='display:none'>档案</a></td><td class='toc'>0.64%</td><td class='toc'>0.18</td><td class='toc'>152.25</td></tr><tr><td>42</td><td class='toc'><span data-texch=''>EIFP</span></td><td class='toc' style='line-height:18px'><span>法国依视路国际有限公司</span></td><td class='xglj'><span >股吧</span><span>行情</span><span >档案</span></td><td class='toc'>0.53%</td><td class='toc'>0.18</td><td class='toc'>126.80</td></tr><tr><td>43</td><td class='toc'><a href='//quote.eastmoney.com/us/PRGO.html' >PRGO.US</a></td><td class='toc' style='line-height:18px'><a href='//quote.eastmoney.com/us/PRGO.html'>培瑞克</a></td><td class='xglj'><a href='//fund.eastmoney.com/ba/list,usPRGO.html' >股吧</a><a href='//quote.eastmoney.com/us/PRGO.html' >行情</a><a href='//emweb.eastmoney.com/pc_usf10/CoreReading/index?color=web&code=PRGO' style='display:none'>档案</a></td><td class='toc'>0.52%</td><td class='toc'>0.12</td><td class='toc'>124.69</td></tr><tr><td>44</td><td class='toc'><a href='//quote.eastmoney.com/us/HUM.html' >HUM.US</a></td><td class='toc' style='line-height:18px'><a href='//quote.eastmoney.com/us/HUM.html'>哈门那</a></td><td class='xglj'><a href='//fund.eastmoney.com/ba/list,usHUM.html' >股吧</a><a href='//quote.eastmoney.com/us/HUM.html' >行情</a><a href='//emweb.eastmoney.com/pc_usf10/CoreReading/index?color=web&code=HUM' style='display:none'>档案</a></td><td class='toc'>0.52%</td><td class='toc'>0.14</td><td class='toc'>124.54</td></tr><tr><td>45</td><td class='toc'><a href='//quote.eastmoney.com/us/ZTS.html' >ZTS.US</a></td><td class='toc' style='line-height:18px'><a href='//quote.eastmoney.com/us/ZTS.html'>硕腾</a></td><td class='xglj'><a href='//fund.eastmoney.com/ba/list,usZTS.html' >股吧</a><a href='//quote.eastmoney.com/us/ZTS.html' >行情</a><a href='//emweb.eastmoney.com/pc_usf10/CoreReading/index?color=web&code=ZTS' style='display:none'>档案</a></td><td class='toc'>0.51%</td><td class='toc'>0.46</td><td class='toc'>122.17</td></tr><tr><td>46</td><td class='toc'><span data-texch=''>MYL</span></td><td class='toc' style='line-height:18px'><span>迈兰实验室</span></td><td class='xglj'><span >股吧</span><span>行情</span><span >档案</span></td><td class='toc'>0.49%</td><td class='toc'>0.34</td><td class='toc'>117.93</td></tr><tr><td>47</td><td class='toc'><span data-texch=''>FREGR</span></td><td class='toc' style='line-height:18px'><span>费森尤斯集团</span></td><td class='xglj'><span >股吧</span><span>行情</span><span >档案</span></td><td class='toc'>0.47%</td><td class='toc'>0.35</td><td class='toc'>113.59</td></tr><tr><td>48</td><td class='toc'><a href='//quote.eastmoney.com/us/CERN.html' >CERN.US</a></td><td class='toc' style='line-height:18px'><a href='//quote.eastmoney.com/us/CERN.html'>塞纳</a></td><td class='xglj'><a href='//fund.eastmoney.com/ba/list,usCERN.html' >股吧</a><a href='//quote.eastmoney.com/us/CERN.html' >行情</a><a href='//emweb.eastmoney.com/pc_usf10/CoreReading/index?color=web&code=CERN' style='display:none'>档案</a></td><td class='toc'>0.47%</td><td class='toc'>0.28</td><td class='toc'>111.69</td></tr><tr><td>49</td><td class='toc'><a href='//quote.eastmoney.com/us/ABC.html' >ABC.US</a></td><td class='toc' style='line-height:18px'><a href='//quote.eastmoney.com/us/ABC.html'>美源伯根</a></td><td class='xglj'><a href='//fund.eastmoney.com/ba/list,usABC.html' >股吧</a><a href='//quote.eastmoney.com/us/ABC.html' >行情</a><a href='//emweb.eastmoney.com/pc_usf10/CoreReading/index?color=web&code=ABC' style='display:none'>档案</a></td><td class='toc'>0.46%</td><td class='toc'>0.20</td><td class='toc'>110.34</td></tr><tr><td>50</td><td class='toc'><a href='//quote.eastmoney.com/us/ZBH.html' >ZBH.US</a></td><td class='toc' style='line-height:18px'><a href='//quote.eastmoney.com/us/ZBH.html'>捷迈邦美</a></td><td class='xglj'><a href='//fund.eastmoney.com/ba/list,usZBH.html' >股吧</a><a href='//quote.eastmoney.com/us/ZBH.html' >行情</a><a href='//emweb.eastmoney.com/pc_usf10/CoreReading/index?color=web&code=ZBH' style='display:none'>档案</a></td><td class='toc'>0.45%</td><td class='toc'>0.16</td><td class='toc'>108.47</td></tr><tr><td>51</td><td class='toc'><a href='//quote.eastmoney.com/us/ISRG.html' >ISRG.US</a></td><td class='toc' style='line-height:18px'><a href='//quote.eastmoney.com/us/ISRG.html'>直觉外科</a></td><td class='xglj'><a href='//fund.eastmoney.com/ba/list,usISRG.html' >股吧</a><a href='//quote.eastmoney.com/us/ISRG.html' >行情</a><a href='//emweb.eastmoney.com/pc_usf10/CoreReading/index?color=web&code=ISRG' style='display:none'>档案</a></td><td class='toc'>0.44%</td><td class='toc'>0.03</td><td class='toc'>104.87</td></tr><tr><td>52</td><td class='toc'><span data-texch=''>STJ</span></td><td class='toc' style='line-height:18px'><span>圣犹达医疗</span></td><td class='xglj'><span >股吧</span><span>行情</span><span >档案</span></td><td class='toc'>0.43%</td><td class='toc'>0.26</td><td class='toc'>102.98</td></tr><tr><td>53</td><td class='toc'><a href='//quote.eastmoney.com/us/BSX.html' >BSX.US</a></td><td class='toc' style='line-height:18px'><a href='//quote.eastmoney.com/us/BSX.html'>波士顿科学</a></td><td class='xglj'><a href='//fund.eastmoney.com/ba/list,usBSX.html' >股吧</a><a href='//quote.eastmoney.com/us/BSX.html' >行情</a><a href='//emweb.eastmoney.com/pc_usf10/CoreReading/index?color=web&code=BSX' style='display:none'>档案</a></td><td class='toc'>0.41%</td><td class='toc'>1.22</td><td class='toc'>99.08</td></tr><tr><td>54</td><td class='toc'><span data-texch=''>SN/LN</span></td><td class='toc' style='line-height:18px'><span>施乐辉</span></td><td class='xglj'><span >股吧</span><span>行情</span><span >档案</span></td><td class='toc'>0.41%</td><td class='toc'>0.86</td><td class='toc'>97.83</td></tr><tr><td>55</td><td class='toc'><span data-texch=''>4578JP</span></td><td class='toc' style='line-height:18px'><span>大塚控股株式会社</span></td><td class='xglj'><span >股吧</span><span>行情</span><span >档案</span></td><td class='toc'>0.38%</td><td class='toc'>0.49</td><td class='toc'>91.05</td></tr><tr><td>56</td><td class='toc'><span data-texch=''>FMEGR</span></td><td class='toc' style='line-height:18px'><span>费森尤斯医药用品AG & Co KGaA</span></td><td class='xglj'><span >股吧</span><span>行情</span><span >档案</span></td><td class='toc'>0.37%</td><td class='toc'>0.19</td><td class='toc'>88.26</td></tr><tr><td>57</td><td class='toc'><a href='//quote.eastmoney.com/us/EW.html' >EW.US</a></td><td class='toc' style='line-height:18px'><a href='//quote.eastmoney.com/us/EW.html'>爱德华兹生命科学</a></td><td class='xglj'><a href='//fund.eastmoney.com/ba/list,usEW.html' >股吧</a><a href='//quote.eastmoney.com/us/EW.html' >行情</a><a href='//emweb.eastmoney.com/pc_usf10/CoreReading/index?color=web&code=EW' style='display:none'>档案</a></td><td class='toc'>0.32%</td><td class='toc'>0.10</td><td class='toc'>76.07</td></tr><tr><td>58</td><td class='toc'><a href='//quote.eastmoney.com/us/DVA.html' >DVA.US</a></td><td class='toc' style='line-height:18px'><a href='//quote.eastmoney.com/us/DVA.html'>达维塔保健</a></td><td class='xglj'><a href='//fund.eastmoney.com/ba/list,usDVA.html' >股吧</a><a href='//quote.eastmoney.com/us/DVA.html' >行情</a><a href='//emweb.eastmoney.com/pc_usf10/CoreReading/index?color=web&code=DVA' style='display:none'>档案</a></td><td class='toc'>0.30%</td><td class='toc'>0.16</td><td class='toc'>72.81</td></tr><tr><td>59</td><td class='toc'><span data-texch=''>BCR</span></td><td class='toc' style='line-height:18px'><span>巴德集团</span></td><td class='xglj'><span >股吧</span><span>行情</span><span >档案</span></td><td class='toc'>0.30%</td><td class='toc'>0.07</td><td class='toc'>71.67</td></tr><tr><td>60</td><td class='toc'><a href='//quote.eastmoney.com/us/A.html' >A.US</a></td><td class='toc' style='line-height:18px'><a href='//quote.eastmoney.com/us/A.html'>安捷伦</a></td><td class='xglj'><a href='//fund.eastmoney.com/ba/list,usA.html' >股吧</a><a href='//quote.eastmoney.com/us/A.html' >行情</a><a href='//emweb.eastmoney.com/pc_usf10/CoreReading/index?color=web&code=A' style='display:none'>档案</a></td><td class='toc'>0.30%</td><td class='toc'>0.28</td><td class='toc'>70.79</td></tr><tr><td>61</td><td class='toc'><span data-texch=''>ATLNVX</span></td><td class='toc' style='line-height:18px'><span>爱可泰隆有限公司</span></td><td class='xglj'><span >股吧</span><span>行情</span><span >档案</span></td><td class='toc'>0.29%</td><td class='toc'>0.10</td><td class='toc'>68.52</td></tr><tr><td>62</td><td class='toc'><span data-texch=''>CFN</span></td><td class='toc' style='line-height:18px'><span>康尔福盛</span></td><td class='xglj'><span >股吧</span><span>行情</span><span >档案</span></td><td class='toc'>0.29%</td><td class='toc'>0.19</td><td class='toc'>68.48</td></tr><tr><td>63</td><td class='toc'><span data-texch=''>MRKGR</span></td><td class='toc' style='line-height:18px'><span>德国默克集团</span></td><td class='xglj'><span >股吧</span><span>行情</span><span >档案</span></td><td class='toc'>0.28%</td><td class='toc'>0.12</td><td class='toc'>67.88</td></tr><tr><td>64</td><td class='toc'><span data-texch=''>MNK</span></td><td class='toc' style='line-height:18px'><span>Mallinckrodt plc</span></td><td class='xglj'><span >股吧</span><span>行情</span><span >档案</span></td><td class='toc'>0.27%</td><td class='toc'>0.11</td><td class='toc'>65.14</td></tr><tr><td>65</td><td class='toc'><span data-texch=''>CCTCN</span></td><td class='toc' style='line-height:18px'><span>Catamaran公司</span></td><td class='xglj'><span >股吧</span><span>行情</span><span >档案</span></td><td class='toc'>0.26%</td><td class='toc'>0.20</td><td class='toc'>63.13</td></tr><tr><td>66</td><td class='toc'><span data-texch=''>COLOBDC</span></td><td class='toc' style='line-height:18px'><span>康乐保股份公司</span></td><td class='xglj'><span >股吧</span><span>行情</span><span >档案</span></td><td class='toc'>0.25%</td><td class='toc'>0.12</td><td class='toc'>59.97</td></tr><tr><td>67</td><td class='toc'><a href='//quote.eastmoney.com/us/UHS.html' >UHS.US</a></td><td class='toc' style='line-height:18px'><a href='//quote.eastmoney.com/us/UHS.html'>Universal Health Services Inc-B</a></td><td class='xglj'><a href='//fund.eastmoney.com/ba/list,usUHS.html' >股吧</a><a href='//quote.eastmoney.com/us/UHS.html' >行情</a><a href='//emweb.eastmoney.com/pc_usf10/CoreReading/index?color=web&code=UHS' style='display:none'>档案</a></td><td class='toc'>0.25%</td><td class='toc'>0.09</td><td class='toc'>59.16</td></tr><tr><td>68</td><td class='toc'><span data-texch=''>HSP</span></td><td class='toc' style='line-height:18px'><span>赫士睿公司</span></td><td class='xglj'><span >股吧</span><span>行情</span><span >档案</span></td><td class='toc'>0.24%</td><td class='toc'>0.15</td><td class='toc'>57.98</td></tr><tr><td>69</td><td class='toc'><span data-texch=''>4523JP</span></td><td class='toc' style='line-height:18px'><span>卫材株式会社</span></td><td class='xglj'><span >股吧</span><span>行情</span><span >档案</span></td><td class='toc'>0.23%</td><td class='toc'>0.23</td><td class='toc'>55.20</td></tr><tr><td>70</td><td class='toc'><span data-texch=''>4528JP</span></td><td class='toc' style='line-height:18px'><span>小野药品工业</span></td><td class='xglj'><span >股吧</span><span>行情</span><span >档案</span></td><td class='toc'>0.23%</td><td class='toc'>0.10</td><td class='toc'>55.12</td></tr><tr><td>71</td><td class='toc'><span data-texch=''>UCBBB</span></td><td class='toc' style='line-height:18px'><span>优时比公司</span></td><td class='xglj'><span >股吧</span><span>行情</span><span >档案</span></td><td class='toc'>0.23%</td><td class='toc'>0.12</td><td class='toc'>54.99</td></tr><tr><td>72</td><td class='toc'><a href='//quote.eastmoney.com/us/DGX.html' >DGX.US</a></td><td class='toc' style='line-height:18px'><a href='//quote.eastmoney.com/us/DGX.html'>奎斯特诊疗</a></td><td class='xglj'><a href='//fund.eastmoney.com/ba/list,usDGX.html' >股吧</a><a href='//quote.eastmoney.com/us/DGX.html' >行情</a><a href='//emweb.eastmoney.com/pc_usf10/CoreReading/index?color=web&code=DGX' style='display:none'>档案</a></td><td class='toc'>0.23%</td><td class='toc'>0.13</td><td class='toc'>54.94</td></tr><tr><td>73</td><td class='toc'><a href='//quote.eastmoney.com/us/WAT.html' >WAT.US</a></td><td class='toc' style='line-height:18px'><a href='//quote.eastmoney.com/us/WAT.html'>沃特世</a></td><td class='xglj'><a href='//fund.eastmoney.com/ba/list,usWAT.html' >股吧</a><a href='//quote.eastmoney.com/us/WAT.html' >行情</a><a href='//emweb.eastmoney.com/pc_usf10/CoreReading/index?color=web&code=WAT' style='display:none'>档案</a></td><td class='toc'>0.23%</td><td class='toc'>0.08</td><td class='toc'>54.35</td></tr><tr><td>74</td><td class='toc'><span data-texch=''>4568JP</span></td><td class='toc' style='line-height:18px'><span>第一三共</span></td><td class='xglj'><span >股吧</span><span>行情</span><span >档案</span></td><td class='toc'>0.22%</td><td class='toc'>0.62</td><td class='toc'>53.76</td></tr><tr><td>75</td><td class='toc'><a href='//quote.eastmoney.com/us/LH.html' >LH.US</a></td><td class='toc' style='line-height:18px'><a href='//quote.eastmoney.com/us/LH.html'>美国控股实验室</a></td><td class='xglj'><a href='//fund.eastmoney.com/ba/list,usLH.html' >股吧</a><a href='//quote.eastmoney.com/us/LH.html' >行情</a><a href='//emweb.eastmoney.com/pc_usf10/CoreReading/index?color=web&code=LH' style='display:none'>档案</a></td><td class='toc'>0.22%</td><td class='toc'>0.08</td><td class='toc'>52.56</td></tr><tr><td>76</td><td class='toc'><a href='//quote.eastmoney.com/us/VAR.html' >VAR.US</a></td><td class='toc' style='line-height:18px'><a href='//quote.eastmoney.com/us/VAR.html'>瓦里安医疗系统</a></td><td class='xglj'><a href='//fund.eastmoney.com/ba/list,usVAR.html' >股吧</a><a href='//quote.eastmoney.com/us/VAR.html' >行情</a><a href='//emweb.eastmoney.com/pc_usf10/CoreReading/index?color=web&code=VAR' style='display:none'>档案</a></td><td class='toc'>0.21%</td><td class='toc'>0.10</td><td class='toc'>51.08</td></tr><tr><td>77</td><td class='toc'><span data-texch=''>4507JP</span></td><td class='toc' style='line-height:18px'><span>盐野义制药</span></td><td class='xglj'><span >股吧</span><span>行情</span><span >档案</span></td><td class='toc'>0.18%</td><td class='toc'>0.27</td><td class='toc'>43.34</td></tr><tr><td>78</td><td class='toc'><a href='//quote.eastmoney.com/us/XRAY.html' >XRAY.US</a></td><td class='toc' style='line-height:18px'><a href='//quote.eastmoney.com/us/XRAY.html'>登士柏</a></td><td class='xglj'><a href='//fund.eastmoney.com/ba/list,usXRAY.html' >股吧</a><a href='//quote.eastmoney.com/us/XRAY.html' >行情</a><a href='//emweb.eastmoney.com/pc_usf10/CoreReading/index?color=web&code=XRAY' style='display:none'>档案</a></td><td class='toc'>0.18%</td><td class='toc'>0.13</td><td class='toc'>43.03</td></tr><tr><td>79</td><td class='toc'><span data-texch=''>4543JP</span></td><td class='toc' style='line-height:18px'><span>泰尔茂株式会社</span></td><td class='xglj'><span >股吧</span><span>行情</span><span >档案</span></td><td class='toc'>0.18%</td><td class='toc'>0.30</td><td class='toc'>42.49</td></tr><tr><td>80</td><td class='toc'><span data-texch=''>RHCAU</span></td><td class='toc' style='line-height:18px'><span>拉姆塞医疗保健集团</span></td><td class='xglj'><span >股吧</span><span>行情</span><span >档案</span></td><td class='toc'>0.15%</td><td class='toc'>0.13</td><td class='toc'>36.40</td></tr><tr><td>81</td><td class='toc'><span data-texch=''>SHLAU</span></td><td class='toc' style='line-height:18px'><span>Sonic 医疗保健有限公司</span></td><td class='xglj'><span >股吧</span><span>行情</span><span >档案</span></td><td class='toc'>0.15%</td><td class='toc'>0.38</td><td class='toc'>35.14</td></tr><tr><td>82</td><td class='toc'><span data-texch=''>LONNVX</span></td><td class='toc' style='line-height:18px'><span>龙沙集团股份有限公司</span></td><td class='xglj'><span >股吧</span><span>行情</span><span >档案</span></td><td class='toc'>0.14%</td><td class='toc'>0.05</td><td class='toc'>33.30</td></tr><tr><td>83</td><td class='toc'><span data-texch=''>QIAGR</span></td><td class='toc' style='line-height:18px'><span>德国 QIAGEN 公共有限公司</span></td><td class='xglj'><span >股吧</span><span>行情</span><span >档案</span></td><td class='toc'>0.13%</td><td class='toc'>0.22</td><td class='toc'>31.99</td></tr><tr><td>84</td><td class='toc'><a href='//quote.eastmoney.com/us/PKI.html' >PKI.US</a></td><td class='toc' style='line-height:18px'><a href='//quote.eastmoney.com/us/PKI.html'>珀金埃尔默</a></td><td class='xglj'><a href='//fund.eastmoney.com/ba/list,usPKI.html' >股吧</a><a href='//quote.eastmoney.com/us/PKI.html' >行情</a><a href='//emweb.eastmoney.com/pc_usf10/CoreReading/index?color=web&code=PKI' style='display:none'>档案</a></td><td class='toc'>0.12%</td><td class='toc'>0.10</td><td class='toc'>27.61</td></tr><tr><td>85</td><td class='toc'><a href='//quote.eastmoney.com/us/THC.html' >THC.US</a></td><td class='toc' style='line-height:18px'><a href='//quote.eastmoney.com/us/THC.html'>泰尼特保健</a></td><td class='xglj'><a href='//fund.eastmoney.com/ba/list,usTHC.html' >股吧</a><a href='//quote.eastmoney.com/us/THC.html' >行情</a><a href='//emweb.eastmoney.com/pc_usf10/CoreReading/index?color=web&code=THC' style='display:none'>档案</a></td><td class='toc'>0.11%</td><td class='toc'>0.09</td><td class='toc'>27.22</td></tr><tr><td>86</td><td class='toc'><span data-texch=''>4519JP</span></td><td class='toc' style='line-height:18px'><span>中外制药</span></td><td class='xglj'><span >股吧</span><span>行情</span><span >档案</span></td><td class='toc'>0.11%</td><td class='toc'>0.17</td><td class='toc'>25.88</td></tr><tr><td>87</td><td class='toc'><span data-texch=''>COHAU</span></td><td class='toc' style='line-height:18px'><span>科利耳 (Cochlear) 有限公司</span></td><td class='xglj'><span >股吧</span><span>行情</span><span >档案</span></td><td class='toc'>0.08%</td><td class='toc'>0.05</td><td class='toc'>20.23</td></tr><tr><td>88</td><td class='toc'><a href='//quote.eastmoney.com/us/PDCO.html' >PDCO.US</a></td><td class='toc' style='line-height:18px'><a href='//quote.eastmoney.com/us/PDCO.html'>帕特森</a></td><td class='xglj'><a href='//fund.eastmoney.com/ba/list,usPDCO.html' >股吧</a><a href='//quote.eastmoney.com/us/PDCO.html' >行情</a><a href='//emweb.eastmoney.com/pc_usf10/CoreReading/index?color=web&code=PDCO' style='display:none'>档案</a></td><td class='toc'>0.08%</td><td class='toc'>0.07</td><td class='toc'>19.78</td></tr><tr><td>89</td><td class='toc'><span data-texch=''>4581JP</span></td><td class='toc' style='line-height:18px'><span>大正制药株式会社</span></td><td class='xglj'><span >股吧</span><span>行情</span><span >档案</span></td><td class='toc'>0.08%</td><td class='toc'>0.05</td><td class='toc'>19.01</td></tr><tr><td>90</td><td class='toc'><span data-texch=''>NOBNSW</span></td><td class='toc' style='line-height:18px'><span>Nobel Biocare 控股股份有限公司</span></td><td class='xglj'><span >股吧</span><span>行情</span><span >档案</span></td><td class='toc'>0.00%</td><td class='toc'>0.00</td><td class='toc'>0.42</td></tr></tbody></table><div class='hide' id='gpdmList'></div><div class='tfoot'><font class='px12'><a style='cursor:pointer;' onclick='LoadMore(this,12,LoadStockPos)'>收起持仓明细>></a></font></div></div></div></div><div class='box'><div class='boxitem w790'><h4 class='t'><label class='left'><a href='http://fund.eastmoney.com/000369.html'>广发全球医疗保健(QDII)</a>&nbsp;&nbsp;2014年3季度股票投资明细</label><label class='right lab2 xq505'>&nbsp;&nbsp;&nbsp;&nbsp;来源：天天基金&nbsp;&nbsp;&nbsp;&nbsp;截止至：<font class='px12'>2014-09-30</font></label></h4><div class='space0'></div><table class='w782 comm tzxq t2'><thead><tr><th class='first'style='width:34px'>序号</th><th>股票代码</th><th>股票名称</th><th style='width: 110px;'>相关资讯</th><th>占净值比例</th><th class='cgs'>持股数<br />（万股）</th><th class='last ccs'>持仓市值<br />（万元人民币）</th></tr></thead><tbody></tbody></table><div class='hide' id='gpdmList'></div></div></div><div class='box'><div class='boxitem w790'><h4 class='t'><label class='left'><a href='http://fund.eastmoney.com/000369.html'>广发全球医疗保健(QDII)</a>&nbsp;&nbsp;2014年2季度股票投资明细</label><label class='right lab2 xq505'>&nbsp;&nbsp;&nbsp;&nbsp;来源：天天基金&nbsp;&nbsp;&nbsp;&nbsp;截止至：<font class='px12'>2014-06-30</font></label></h4><div class='space0'></div><table class='w782 comm tzxq t2'><thead><tr><th class='first'style='width:34px'>序号</th><th>股票代码</th><th>股票名称</th><th style='width: 110px;'>相关资讯</th><th>占净值比例</th><th class='cgs'>持股数<br />（万股）</th><th class='last ccs'>持仓市值<br />（万元人民币）</th></tr></thead><tbody></tbody></table><div class='hide' id='gpdmList'></div></div></div><div class='box'><div class='boxitem w790'><h4 class='t'><label class='left'><a href='http://fund.eastmoney.com/000369.html'>广发全球医疗保健(QDII)</a>&nbsp;&nbsp;2014年1季度股票投资明细</label><label class='right lab2 xq505'>&nbsp;&nbsp;&nbsp;&nbsp;来源：天天基金&nbsp;&nbsp;&nbsp;&nbsp;截止至：<font class='px12'>2014-03-31</font></label></h4><div class='space0'></div><table class='w782 comm tzxq t2'><thead><tr><th class='first'style='width:34px'>序号</th><th>股票代码</th><th>股票名称</th><th style='width: 110px;'>相关资讯</th><th>占净值比例</th><th class='cgs'>持股数<br />（万股）</th><th class='last ccs'>持仓市值<br />（万元人民币）</th></tr></thead><tbody></tbody></table><div class='hide' id='gpdmList'></div></div></div>"""
    # print(etree.tostring(tree))
    # parser = etree.HTMLParser(encoding="utf-8")
    # tree = etree.parse(StringIO(html_content), parser=parser)
    # fund_code, year, month = '000001', 2020, 12
    # for curr_node in tree.xpath('//div/div/table/tbody/tr'):
    #     # print(curr_node.xpath("//td"))
    #     curr_html = etree.tostring(curr_node)
    #     curr_tree = etree.parse(StringIO(str(curr_html)), parser=parser)
    #     final_datas.append(curr_fund_dict)
    #     print(curr_fund_dict)

        